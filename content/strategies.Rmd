---
exclude_jquery: true
#title: Strategies
menu: main
---

```{r, include=FALSE}
library(tidyverse)
library(readxl)
library(here)

strategy_data <- read_excel(here("data", "strategies.xlsx"))

strategy_types <- strategy_data$category %>% unique()

strategy_data
```


::: {.strategy-page}

::: {.row .top-matter}
::: {.col-sm-9}
This is the fantastic strategy page bla bla bla
:::

::: {.col-sm-3}
::: {.embed-responsive .embed-responsive-16by9}
<iframe class='embed-responsive-item featured-work-graphic' src='https://www.youtube.com/embed/GCOnzStHQcM' allowfullscreen></iframe>
:::
:::

<!-- end row with top matter -->
:::

```{r, results='asis', echo=FALSE}
generate_strategy_examples <- function(strategy, devices, description){
  cat("<div class='col-sm-4'>")
  cat("<div class='card'>")
  cat('<img class="card-img-top" src="https://ulriklyngs.com/images/headshot_small.jpg" alt="Card image cap">')
  cat("<div class='card-body'>")
  cat(str_c('<h5 class="card-title">', strategy, '</h5>'))
  cat(str_c('<p>', devices, '</p>'))
  cat(str_c('<p class="card-text">', description, '</p>'))
  cat('<a href="#" class="btn btn-primary">Read more</a>')
  cat("</div>")
  cat("</div>")
  cat("</div>")
}

generate_strategy_views <- function(a_strategy_type){
  current_data <- strategy_data %>% 
    filter(category == a_strategy_type) %>% 
    select(-category)
  
  cat("<div class='row'>")
  cat("<div class='col-sm-12'>")
  cat(str_c("<h1>", a_strategy_type, "</h1>"))
  cat("</div>")
  
  pmap(current_data, generate_strategy_examples)
  
  # close project row
  cat("</div>")
}

walk(strategy_types, generate_strategy_views)
```

<!-- end strategy page -->
:::